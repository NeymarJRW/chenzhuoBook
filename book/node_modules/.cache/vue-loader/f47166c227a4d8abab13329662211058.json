{"remainingRequest":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaga/Desktop/文档/vue/Books/book/src/views/Bookinfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gaga/Desktop/文档/vue/Books/book/src/views/Bookinfo.vue","mtime":1585823335053},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/babel-loader/lib/index.js","mtime":1573815100829},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/cache-loader/dist/cjs.js","mtime":1573815120526},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/vue-loader/lib/index.js","mtime":1573815121359}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCb29rRGV0YWlsIGZyb20gIkAvY29tcG9uZW50cy9ib29raW5mby9ib29rZGV0YWlsIjsKaW1wb3J0IEJvb2tBZGQgZnJvbSAiQC9jb21wb25lbnRzL2Jvb2tpbmZvL2Jvb2thZGQiOwppbXBvcnQgeyBnZXRCb29rLCBkZWxCb29rIH0gZnJvbSAiQC9hcGkvaW5kZXguanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJvb2tEZXRhaWwsCiAgICBCb29rQWRkCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiB0cnVlLC8v6L+b5bqm5p2hCiAgICAgIGJvb2tEZXRhaWw6IGZhbHNlLC8v5piv5ZCm5pi+56S657yW6L6R5Zu+5LmmCiAgICAgIGJvb2tBZGQ6IGZhbHNlLC8v5piv5ZCm5pi+56S65re75Yqg5Zu+5LmmCiAgICAgIGJvb2RhdGFBc3luYzoge30sIC8v5Lmm57GN6K+m5oOF5pWw5o2uCiAgICAgIGNvbHVtbnM6IFsKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIklEIiwKICAgICAgICAgIGtleTogImlkIiwKICAgICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6ICLkuablkI0iLAogICAgICAgICAga2V5OiAibmFtZSIsCiAgICAgICAgICBhbGlnbjogImNlbnRlciIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi57G75YirIiwKICAgICAgICAgIGtleTogInR5cGUiLAogICAgICAgICAgYWxpZ246ICJjZW50ZXIiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0aXRsZTogIuivreiogCIsCiAgICAgICAgICBrZXk6ICJsYW5ndWFnZSIsCiAgICAgICAgICBhbGlnbjogImNlbnRlciIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5Lu35qC8KMKlKSIsCiAgICAgICAgICBrZXk6ICJwcmljZSIsCiAgICAgICAgICBhbGlnbjogImNlbnRlciIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5pWw6YePIiwKICAgICAgICAgIGtleTogIm51bWJlciIsCiAgICAgICAgICBhbGlnbjogImNlbnRlciIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi54q25oCBIiwKICAgICAgICAgIGtleTogInN0YXR1cyIsCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsKICAgICAgICAgICAgaWYgKHBhcmFtcy5yb3cuc3RhdHVzID09ICLlt7LkuIrmnrYiKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGgoInAiLCB7IHN0eWxlOiB7IGNvbG9yOiAiZ3JlZW4iIH0gfSwgcGFyYW1zLnJvdy5zdGF0dXMpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiBoKCJwIiwgeyBzdHlsZTogeyBjb2xvcjogInJlZCIgfSB9LCBwYXJhbXMucm93LnN0YXR1cyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAi5pON5L2cIiwKICAgICAgICAgIGtleTogImFjdGlvbiIsCiAgICAgICAgICB3aWR0aDogMTUwLAogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbCiAgICAgICAgICAgICAgaCgKICAgICAgICAgICAgICAgICJCdXR0b24iLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICI1cHgiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBhcmFtcy5yb3cpCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb2RhdGFBc3luYyA9IEpTT04ucGFyc2UoIEpTT04uc3RyaW5naWZ5KHBhcmFtcy5yb3cpKSA7Ly/mt7Hmi7fotJ0s6Ziy5q2i5pWw5o2u5Liy6IGU5L+u5pS5CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvb2tEZXRhaWwgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICLkv67mlLkiCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBoKAogICAgICAgICAgICAgICAgIkJ1dHRvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuaPkOekuiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICI8cD7kvaDnoa7lrpropoHliKDpmaTlkJc/PC9wPiIsCiAgICAgICAgICAgICAgICAgICAgICAgIG9uT2s6ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxCb29rKHsgaWQ6IHBhcmFtcy5yb3cuaWQgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEFsbCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw6ICgpID0+IHt9CiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAi5Yig6ZmkIgogICAgICAgICAgICAgICkKICAgICAgICAgICAgXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICBdLAogICAgICBib29rZGF0YTogW10sIC8v5b2T5YmN5YWo6YOo5pWw5o2uCiAgICAgIHNob3dkYXRhOiBbXSwgLy/lvZPliY3pobXlsZXnpLrmlbDmja4KICAgICAgc2hvd0FsbGRhdGE6IFtdLCAvL+W9k+WJjeWFqOmDqOWxleekuuaVsOaNrgoKICAgICAgLy/liIbpobUKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlU2l6ZTogOCwKCiAgICAgIC8v562b6YCJCiAgICAgIHR5cGVMaXN0OiBbXSwgLy/nsbvliKvliJfooagKICAgICAgdHlwZU5hbWU6IG51bGwsIC8v57G75Yir5pi+56S6CiAgICAgIGxhbmd1YWdlTGlzdDogW10sIC8v6K+t6KiA5YiX6KGoCiAgICAgIGxhbmd1YWdlTmFtZTogbnVsbCwgLy/or63oqIDmmL7npLoKICAgICAgc3RhdHVzTGlzdDogW10sIC8v54q25oCB5YiX6KGoCiAgICAgIHN0YXR1c05hbWU6IG51bGwsIC8v54q25oCB5pi+56S6CiAgICAgIGJvb2tuYW1lOiBudWxsIC8v5pCc57Si5Lmm5ZCNCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Qm9vaygpOwogICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4gewogICAgICB0aGlzLmNoZWNrSGVpZ2h0KCk7CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2VNb2QoKSB7CiAgICAgIHRoaXMuYm9va0RldGFpbCA9IGZhbHNlOwogICAgICB0aGlzLmJvb2tBZGQgPSBmYWxzZTsKICAgIH0sCiAgICBnZXRCb29rKCkgewogICAgICB0aGlzLmNsb3NlTW9kKCk7CiAgICAgIGdldEJvb2soKS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLmJvb2tkYXRhID0gcmVzOwogICAgICAgIHRoaXMuSW5pdGlhbCgpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGVja0hlaWdodCgpIHsKICAgICAgdmFyIEggPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsKICAgICAgSCA8IDcwMCA/ICh0aGlzLnBhZ2VTaXplID0gOCkgOiAodGhpcy5wYWdlU2l6ZSA9IDEwKTsKICAgICAgdGhpcy5jaGFuZ2VQYWdlKDEpOwogICAgfSwKICAgIEluaXRpYWwoKSB7CiAgICAgIHRoaXMuY2hlY2tIZWlnaHQoKTsKICAgICAgdGhpcy5nZXREYXRhKHRoaXMuYm9va2RhdGEpOwogICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLmJvb2tkYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAvL+exu+WIq+WIl+ihqAogICAgICAgIGlmICh0aGlzLnR5cGVMaXN0LmluZGV4T2YoaXRlbS50eXBlKSA9PSAtMSkgewogICAgICAgICAgdGhpcy50eXBlTGlzdC5wdXNoKGl0ZW0udHlwZSk7CiAgICAgICAgfQogICAgICAgIC8v6K+t6KiA5YiX6KGoCiAgICAgICAgaWYgKHRoaXMubGFuZ3VhZ2VMaXN0LmluZGV4T2YoaXRlbS5sYW5ndWFnZSkgPT0gLTEpIHsKICAgICAgICAgIHRoaXMubGFuZ3VhZ2VMaXN0LnB1c2goaXRlbS5sYW5ndWFnZSk7CiAgICAgICAgfQogICAgICAgIC8v54q25oCB5YiX6KGoCiAgICAgICAgaWYgKHRoaXMuc3RhdHVzTGlzdC5pbmRleE9mKGl0ZW0uc3RhdHVzKSA9PSAtMSkgewogICAgICAgICAgdGhpcy5zdGF0dXNMaXN0LnB1c2goaXRlbS5zdGF0dXMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGF0YShkYXRhKSB7CiAgICAgIHRoaXMuc2hvd0FsbGRhdGEgPSBkYXRhOwogICAgICB0aGlzLnRvdGFsID0gdGhpcy5zaG93QWxsZGF0YS5sZW5ndGg7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLmNoYW5nZVBhZ2UoMSk7CiAgICB9LAogICAgY2hhbmdlUGFnZShpbmRleCkgewogICAgICB2YXIgc3RhcnQgPSAoaW5kZXggLSAxKSAqIHRoaXMucGFnZVNpemU7CiAgICAgIHZhciBlbmQgPSBzdGFydCArIHRoaXMucGFnZVNpemU7CiAgICAgIHRoaXMuc2hvd2RhdGEgPSB0aGlzLnNob3dBbGxkYXRhLnNsaWNlKHN0YXJ0LCBlbmQpOwogICAgfSwKICAgIHNlbGVjdFR5cGUobmFtZSkgewogICAgICB0aGlzLkluaXRpYWxMaXN0KCk7CiAgICAgIHRoaXMudHlwZU5hbWUgPSBuYW1lOwogICAgICB0aGlzLmdldERhdGEodGhpcy5ib29rZGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLnR5cGUgPT0gbmFtZSkpOwogICAgfSwKICAgIHNlbGVjdExhbmd1YWdlKG5hbWUpIHsKICAgICAgdGhpcy5Jbml0aWFsTGlzdCgpOwogICAgICB0aGlzLmxhbmd1YWdlTmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuZ2V0RGF0YSh0aGlzLmJvb2tkYXRhLmZpbHRlcihpdGVtID0+IGl0ZW0ubGFuZ3VhZ2UgPT0gbmFtZSkpOwogICAgfSwKICAgIHNlbGVjdFN0YXR1cyhuYW1lKSB7CiAgICAgIHRoaXMuSW5pdGlhbExpc3QoKTsKICAgICAgdGhpcy5zdGF0dXNOYW1lID0gbmFtZTsKICAgICAgdGhpcy5nZXREYXRhKHRoaXMuYm9va2RhdGEuZmlsdGVyKGl0ZW0gPT4gaXRlbS5zdGF0dXMgPT0gbmFtZSkpOwogICAgfSwKICAgIHNlbGVjdEFsbCgpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmdldEJvb2soKTsKICAgICAgdGhpcy5Jbml0aWFsTGlzdCgpOwogICAgfSwKICAgIEluaXRpYWxMaXN0KCkgewogICAgICAvL+WIneWni+WMlumAieaLqeWIl+ihqOmhueS/oeaBrwogICAgICB0aGlzLnR5cGVOYW1lID0gbnVsbDsKICAgICAgdGhpcy5sYW5ndWFnZU5hbWUgPSBudWxsOwogICAgICB0aGlzLnN0YXR1c05hbWUgPSBudWxsOwogICAgICB0aGlzLmJvb2tuYW1lID0gbnVsbDsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICB9LAogICAgc2VhcmNoTmFtZSgpIHsKICAgICAgaWYgKHRoaXMuYm9va25hbWUpIHsKICAgICAgICBsZXQgYXJyID0gdGhpcy5ib29rZGF0YS5maWx0ZXIoCiAgICAgICAgICBpdGVtID0+IGl0ZW0ubmFtZS5pbmRleE9mKHRoaXMuYm9va25hbWUpID4gLTEKICAgICAgICApOwogICAgICAgIGlmIChhcnIubGVuZ3RoIDw9IDApIHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoIuayoeacieaJvuWIsOebuOWFs+S5puexjSEiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50eXBlTmFtZSA9IG51bGw7CiAgICAgICAgICB0aGlzLmxhbmd1YWdlTmFtZSA9IG51bGw7CiAgICAgICAgICB0aGlzLnN0YXR1c05hbWUgPSBudWxsOwogICAgICAgICAgdGhpcy5nZXREYXRhKGFycik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoIuWGheWuueS4uuepuiEiKTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["Bookinfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Bookinfo.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"all\">\n    <!-- <div class=\"loading\" v-if=\"isLoading\">\n      <Col class=\"demo-spin-col\" span=\"8\">\n        <Spin fix>\n          <Icon type=\"ios-loading\" size=\"40\" class=\"demo-spin-icon-load\"></Icon>\n          <div>Loading</div>\n        </Spin>\n      </Col>\n    </div>-->\n    <div class=\"main\" v-if=\"!isLoading\">\n      <div class=\"toplist\">\n        <Dropdown :style=\"{margin: '0 10px 10px 0px'}\" @on-click=\"selectType\">\n          <Button type=\"primary\">\n            {{typeName ? typeName : \"选择类别\" }}\n            <Icon type=\"ios-arrow-down\"></Icon>\n          </Button>\n          <DropdownMenu slot=\"list\" v-for=\"(item,index) in typeList\" :key=\"index\">\n            <DropdownItem :name=\"item\">{{item}}</DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n        <Dropdown :style=\"{margin: '0 10px 10px 5px'}\" @on-click=\"selectLanguage\">\n          <Button type=\"primary\">\n            {{languageName ? languageName : \"选择语言\" }}\n            <Icon type=\"ios-arrow-down\"></Icon>\n          </Button>\n          <DropdownMenu slot=\"list\" v-for=\"(item,index) in languageList\" :key=\"index\">\n            <DropdownItem :name=\"item\">{{item}}</DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n        <Dropdown :style=\"{margin: '0 10px 10px 5px'}\" @on-click=\"selectStatus\">\n          <Button type=\"primary\">\n            {{statusName ? statusName : \"选择状态\" }}\n            <Icon type=\"ios-arrow-down\"></Icon>\n          </Button>\n          <DropdownMenu slot=\"list\" v-for=\"(item,index) in statusList\" :key=\"index\">\n            <DropdownItem :name=\"item\">{{item}}</DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n        <Button :style=\"{marginLeft:'5px'}\" type=\"primary\" @click=\"selectAll\">全部信息</Button>\n        <Button :style=\"{marginLeft:'15px'}\" type=\"primary\" @click=\"bookAdd=true\">添加新书</Button>\n        <Input\n          v-model=\"bookname\"\n          :style=\"{width: 'auto',marginLeft: '15px'}\"\n          search\n          enter-button\n          placeholder=\"搜索书名...\"\n          @on-search=\"searchName\"\n        />\n      </div>\n\n      <Table border :columns=\"columns\" :data=\"showdata\"></Table>\n      <div class=\"page\">\n        <Page\n          class=\"page\"\n          :total=\"total\"\n          show-total\n          :current.sync=\"currentPage\"\n          :page-size=\"pageSize\"\n          @on-change=\"changePage\"\n        />\n      </div>\n    </div>\n\n    <Modal v-model=\"bookDetail\" width=\"500\">\n      <p slot=\"header\" style=\"text-align:center\">\n        <!-- <Icon type=\"ios-information-circle\"></Icon> -->\n        <span>修改书籍</span>\n      </p>\n      <div>\n        <BookDetail\n          @toParent=\"selectAll\"\n          @closeMod=\"closeMod\"\n          :bookDatas=\"boodataAsync\"\n          :typeList=\"typeList\"\n          :languageList=\"languageList\"\n          :statusList=\"statusList\"\n          v-if=\"JSON.stringify(boodataAsync) !== '{}'\"\n        ></BookDetail>\n      </div>\n      <div slot=\"footer\"></div>\n    </Modal>\n    <Modal v-model=\"bookAdd\" width=\"500\">\n      <p slot=\"header\" style=\"text-align:center\">\n        <!-- <Icon type=\"ios-information-circle\"></Icon> -->\n        <span>添加书籍</span>\n      </p>\n      <div>\n        <BookAdd\n          @toParent=\"selectAll\"\n          @closeMod=\"closeMod\"\n          v-if=\"bookAdd\"\n          :typeList=\"typeList\"\n          :languageList=\"languageList\"\n          :statusList=\"statusList\"\n        ></BookAdd>\n      </div>\n      <div slot=\"footer\"></div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport BookDetail from \"@/components/bookinfo/bookdetail\";\nimport BookAdd from \"@/components/bookinfo/bookadd\";\nimport { getBook, delBook } from \"@/api/index.js\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    BookDetail,\n    BookAdd\n  },\n  data() {\n    return {\n      isLoading: true,//进度条\n      bookDetail: false,//是否显示编辑图书\n      bookAdd: false,//是否显示添加图书\n      boodataAsync: {}, //书籍详情数据\n      columns: [\n        {\n          title: \"ID\",\n          key: \"id\",\n          align: \"center\"\n        },\n        {\n          title: \"书名\",\n          key: \"name\",\n          align: \"center\"\n        },\n        {\n          title: \"类别\",\n          key: \"type\",\n          align: \"center\"\n        },\n        {\n          title: \"语言\",\n          key: \"language\",\n          align: \"center\"\n        },\n        {\n          title: \"价格(¥)\",\n          key: \"price\",\n          align: \"center\"\n        },\n        {\n          title: \"数量\",\n          key: \"number\",\n          align: \"center\"\n        },\n        {\n          title: \"状态\",\n          key: \"status\",\n          align: \"center\",\n          render: (h, params) => {\n            if (params.row.status == \"已上架\") {\n              return h(\"p\", { style: { color: \"green\" } }, params.row.status);\n            } else {\n              return h(\"p\", { style: { color: \"red\" } }, params.row.status);\n            }\n          }\n        },\n        {\n          title: \"操作\",\n          key: \"action\",\n          width: 150,\n          align: \"center\",\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\n                \"Button\",\n                {\n                  props: {\n                    type: \"primary\",\n                    size: \"small\"\n                  },\n                  style: {\n                    marginRight: \"5px\"\n                  },\n                  on: {\n                    click: () => {\n                      // console.log(params.row)\n                      this.boodataAsync = JSON.parse( JSON.stringify(params.row)) ;//深拷贝,防止数据串联修改\n                      this.bookDetail = true;\n                    }\n                  }\n                },\n                \"修改\"\n              ),\n              h(\n                \"Button\",\n                {\n                  props: {\n                    type: \"error\",\n                    size: \"small\"\n                  },\n                  on: {\n                    click: () => {\n                      this.$Modal.confirm({\n                        title: \"提示\",\n                        content: \"<p>你确定要删除吗?</p>\",\n                        onOk: () => {\n                          delBook({ id: params.row.id }).then(res => {\n                            if (res.code == 1) {\n                              this.$Message.success(res.msg);\n                              this.selectAll();\n                            } else {\n                              this.$Message.error(res.msg);\n                            }\n                          });\n                        },\n                        onCancel: () => {}\n                      });\n                    }\n                  }\n                },\n                \"删除\"\n              )\n            ]);\n          }\n        }\n      ],\n      bookdata: [], //当前全部数据\n      showdata: [], //当前页展示数据\n      showAlldata: [], //当前全部展示数据\n\n      //分页\n      currentPage: 1,\n      total: 0,\n      pageSize: 8,\n\n      //筛选\n      typeList: [], //类别列表\n      typeName: null, //类别显示\n      languageList: [], //语言列表\n      languageName: null, //语言显示\n      statusList: [], //状态列表\n      statusName: null, //状态显示\n      bookname: null //搜索书名\n    };\n  },\n  mounted() {\n    this.getBook();\n    window.onresize = () => {\n      this.checkHeight();\n    };\n  },\n  methods: {\n    closeMod() {\n      this.bookDetail = false;\n      this.bookAdd = false;\n    },\n    getBook() {\n      this.closeMod();\n      getBook().then(res => {\n        // console.log(res);\n        this.bookdata = res;\n        this.Initial();\n      });\n    },\n    checkHeight() {\n      var H = document.body.clientHeight;\n      H < 700 ? (this.pageSize = 8) : (this.pageSize = 10);\n      this.changePage(1);\n    },\n    Initial() {\n      this.checkHeight();\n      this.getData(this.bookdata);\n      this.isLoading = false;\n      this.bookdata.map((item, index) => {\n        //类别列表\n        if (this.typeList.indexOf(item.type) == -1) {\n          this.typeList.push(item.type);\n        }\n        //语言列表\n        if (this.languageList.indexOf(item.language) == -1) {\n          this.languageList.push(item.language);\n        }\n        //状态列表\n        if (this.statusList.indexOf(item.status) == -1) {\n          this.statusList.push(item.status);\n        }\n      });\n    },\n    getData(data) {\n      this.showAlldata = data;\n      this.total = this.showAlldata.length;\n      this.currentPage = 1;\n      this.changePage(1);\n    },\n    changePage(index) {\n      var start = (index - 1) * this.pageSize;\n      var end = start + this.pageSize;\n      this.showdata = this.showAlldata.slice(start, end);\n    },\n    selectType(name) {\n      this.InitialList();\n      this.typeName = name;\n      this.getData(this.bookdata.filter(item => item.type == name));\n    },\n    selectLanguage(name) {\n      this.InitialList();\n      this.languageName = name;\n      this.getData(this.bookdata.filter(item => item.language == name));\n    },\n    selectStatus(name) {\n      this.InitialList();\n      this.statusName = name;\n      this.getData(this.bookdata.filter(item => item.status == name));\n    },\n    selectAll() {\n      this.isLoading = true;\n      this.getBook();\n      this.InitialList();\n    },\n    InitialList() {\n      //初始化选择列表项信息\n      this.typeName = null;\n      this.languageName = null;\n      this.statusName = null;\n      this.bookname = null;\n      this.currentPage = 1;\n    },\n    searchName() {\n      if (this.bookname) {\n        let arr = this.bookdata.filter(\n          item => item.name.indexOf(this.bookname) > -1\n        );\n        if (arr.length <= 0) {\n          this.$Message.error(\"没有找到相关书籍!\");\n        } else {\n          this.typeName = null;\n          this.languageName = null;\n          this.statusName = null;\n          this.getData(arr);\n        }\n      } else {\n        this.$Message.error(\"内容为空!\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped >\n.loading {\n  padding-top: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.demo-spin-col {\n  font-size: 22px;\n  height: 100px;\n  position: relative;\n}\n.demo-spin-icon-load {\n  font-size: 30px;\n  animation: ani-demo-spin 1s linear infinite;\n}\n@keyframes ani-demo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.main {\n  padding: 10px;\n  box-sizing: border-box;\n}\n.toplist {\n  display: flex;\n}\n.page {\n  text-align: center;\n  margin: 10px 0;\n}\n</style>"]}]}