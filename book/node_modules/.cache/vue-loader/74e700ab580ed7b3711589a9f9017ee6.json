{"remainingRequest":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaga/Desktop/文档/vue/Books/book/src/components/Index.vue?vue&type=style&index=0&id=82b7485c&scoped=true&lang=css&","dependencies":[{"path":"/Users/gaga/Desktop/文档/vue/Books/book/src/components/Index.vue","mtime":1585820612071},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/css-loader/dist/cjs.js","mtime":1573815120679},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1573815121359},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/postcss-loader/src/index.js","mtime":1573815121151},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/cache-loader/dist/cjs.js","mtime":1573815120526},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/vue-loader/lib/index.js","mtime":1573815121359}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5sYXlvdXQgewogIGJvcmRlcjogMXB4IHNvbGlkICNkN2RkZTQ7CiAgYmFja2dyb3VuZDogI2Y1ZjdmOTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgaGVpZ2h0OiAxMDAlOwp9Ci5yaWdodCB7CiAgZm9udC1zaXplOiAxNXB4Owp9Ci50aXRsZSB7CiAgZm9udC1zaXplOiAyNXB4OwogIGNvbG9yOiAjZmZmOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBtYXJnaW46IDVweCAwOwp9Ci50aXRsZSBzcGFuIHsKICBmb250LXNpemU6IDIwcHg7CiAgdmVydGljYWwtYWxpZ246IHRleHQtdG9wOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5mbG9hdCB7CiAgZmxvYXQ6IHJpZ2h0Owp9Ci51c2VyIC51c2VyaW5mbyB7CiAgbWFyZ2luOiAwIDIwcHg7Cn0KLnVzZXIgLnVzZXJpbmZvIC51c2VybmFtZSB7CiAgY29sb3I6ICMzMzM7Cn0KLmxheW91dC1oZWFkZXItYmFyIHsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIGJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMSk7Cn0KLmxheW91dC1sb2dvLWxlZnQgewogIHdpZHRoOiA5MCU7CiAgaGVpZ2h0OiAzMHB4OwogIGJhY2tncm91bmQ6ICM1YjYyNzA7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIG1hcmdpbjogMTVweCBhdXRvOwp9Ci5tZW51LWljb24gewogIHRyYW5zaXRpb246IGFsbCAwLjNzOwp9Ci5yb3RhdGUtaWNvbiB7CiAgdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTsKfQoubWVudS1pdGVtIHNwYW4gewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBvdmVyZmxvdzogaGlkZGVuOwogIHdpZHRoOiAxMDBweDsKICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIHZlcnRpY2FsLWFsaWduOiBib3R0b207CiAgdHJhbnNpdGlvbjogd2lkdGggMC4ycyBlYXNlIDAuMnM7CiAgLyogZm9udC1zaXplOiAyMHB4OyAqLwp9Ci5tZW51LWl0ZW0gaSB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDBweCk7CiAgdHJhbnNpdGlvbjogZm9udC1zaXplIDAuMnMgZWFzZSwgdHJhbnNmb3JtIDAuMnMgZWFzZTsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogIGZvbnQtc2l6ZTogMjJweDsKfQouY29sbGFwc2VkLW1lbnUgc3BhbiB7CiAgd2lkdGg6IDBweDsKICB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzIGVhc2U7Cn0KLmNvbGxhcHNlZC1tZW51IGkgewogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOwogIHRyYW5zaXRpb246IGZvbnQtc2l6ZSAwLjJzIGVhc2UgMC4ycywgdHJhbnNmb3JtIDAuMnMgZWFzZSAwLjJzOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgZm9udC1zaXplOiAxOHB4Owp9Ci5wYXNzVmlldyB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5wYXNzVmlldyAuaXRlbSB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n  <div class=\"layout\">\n    <Layout style=\"height:100%\">\n      <Sider\n        class=\"right\"\n        ref=\"side1\"\n        hide-trigger\n        collapsible\n        :collapsed-width=\"78\"\n        v-model=\"isCollapsed\"\n      >\n        <p class=\"title\">\n          <Icon type=\"ios-bookmarks\" />\n          <span>图书后台管理</span>\n        </p>\n        <!-- active-name=\"bookinfo\" -->\n        <Menu\n          active-name=\"bookinfo\"\n          theme=\"dark\"\n          width=\"200\"\n          :class=\"menuitemClasses\"\n          @on-select=\"topage\"\n        >\n          <MenuItem v-for=\"(item,index) in menuList\" :name=\"item.name\" :key=\"index\">\n            <Icon :type=\"item.type\"></Icon>\n            <span>{{item.title}}</span>\n          </MenuItem>\n        </Menu>\n      </Sider>\n      <Layout>\n        <Header :style=\"{padding: 0}\" class=\"layout-header-bar\">\n          <Icon\n            @click.native=\"collapsedSider\"\n            :class=\"rotateIcon\"\n            :style=\"{margin: '0 20px'}\"\n            type=\"md-menu\"\n            size=\"24\"\n          ></Icon>\n          <div class=\"user float\">\n            <Avatar\n              src=\"https://i.loli.net/2017/08/21/599a521472424.jpg\"\n              icon=\"ios-person\"\n              size=\"large\"\n            />\n            <Dropdown class=\"userinfo float\" @on-click=\"userselect\">\n              <a href=\"javascript:void(0)\" class=\"username\">\n                {{getUsername }}\n                <Icon type=\"ios-arrow-down\"></Icon>\n              </a>\n              <DropdownMenu slot=\"list\">\n                <DropdownItem name=\"1\">修改密码</DropdownItem>\n                <DropdownItem divided name=\"2\">退出登录</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          </div>\n        </Header>\n        <Content :style=\"{margin: '15px', background: '#fff', minHeight: '260px',overflow:'auto'}\">\n          <router-view />\n        </Content>\n      </Layout>\n    </Layout>\n    <Modal v-model=\"changePassFlag\" title=\"修改密码\">\n      <p slot=\"header\" style=\"text-align:center\">\n        <span>修改密码</span>\n      </p>\n      <div class=\"passView\">\n        <div class=\"item\" :style=\"{marginTop:'10px'}\">\n          旧密码 :\n          <Input\n            v-model=\"changePassData.old\"\n            placeholder=\"输入旧密码...\"\n            style=\"width: 300px;marginLeft:10px\"\n          />\n        </div>\n        <div class=\"item\">\n          新密码 :\n          <Input\n            v-model=\"changePassData.new\"\n            placeholder=\"输入新密码...\"\n            style=\"width: 300px;marginLeft:10px\"\n          />\n        </div>\n        <div class=\"item\">\n          <Button @click=\"changePassFlag=false\" :style=\"{marginRight:'15px'}\">取消</Button>\n\n          <Button type=\"primary\" @click=\"changePassFun\">确定</Button>\n        </div>\n      </div>\n      <div slot=\"footer\"></div>\n    </Modal>\n  </div>\n</template>\n<script>\nimport $ from \"jquery\";\nimport { changePass } from \"@/api/index\";\nexport default {\n  name: \"Index\",\n  data() {\n    return {\n      changePassData: {\n        name: sessionStorage.getItem(\"userName\")\n          ? sessionStorage.getItem(\"userName\")\n          : \"Admin\",\n        old: \"\",\n        new: \"\"\n      },\n      changePassFlag: false,\n      isCollapsed: false,\n      menuList: [\n        {\n          name: \"bookinfo\",\n          type: \"ios-book\",\n          title: \"书籍信息\"\n        },\n        {\n          name: \"userinfo\",\n          type: \"md-reorder\",\n          title: \"借阅信息\"\n        },\n        {\n          name: \"roleinfo\",\n          type: \"ios-contacts\",\n          title: \"管理员信息\"\n        }\n      ]\n    };\n  },\n  computed: {\n    getUsername() {\n      return sessionStorage.getItem(\"userName\")\n        ? sessionStorage.getItem(\"userName\")\n        : \"Admin\";\n    },\n    rotateIcon() {\n      return [\"menu-icon\", this.isCollapsed ? \"rotate-icon\" : \"\"];\n    },\n    menuitemClasses() {\n      return [\"menu-item\", this.isCollapsed ? \"collapsed-menu\" : \"\"];\n    }\n  },\n  watch: {\n    isCollapsed(val) {\n      if (val) {\n        $(\".title span\").html(\"\");\n      } else {\n        setTimeout(() => {\n          $(\".title span\").html(\"图书后台管理\");\n        }, 100);\n      }\n    }\n  },\n  mounted() {},\n  methods: {\n    changePassFun() {\n      for (var k in this.changePassData) {\n        if (this.changePassData[k].length == 0) {\n          this.$Message.error(\"信息填写不完整!\");\n          return;\n        }\n      }\n      console.log(this.changePassData);\n      if(this.changePassData.new!=this.changePassData.old){\n      changePass(this.changePassData).then(res => {\n        if (res.code == 1) {\n          this.$Message.success(res.msg);\n          sessionStorage.setItem(\"login\", 0);\n          setTimeout(() => {\n            this.$router.push({ name: \"login\" });\n          }, 500);\n        } else {\n          this.$Message.error(res.msg);\n        }\n      });\n      }else{\n          this.$Message.error(\"新密码不能与旧密码相同!\");\n\n      }\n\n    },\n    topage(name) {\n      this.$router.push({ name: name });\n    },\n    userselect(name) {\n      switch (name) {\n        case \"1\":\n          console.log(\"修改密码\");\n          this.changePassFlag = true;\n          break;\n        case \"2\":\n          console.log(\"退出登录\");\n          this.$Modal.confirm({\n            title: \"提示\",\n            content: \"<p>确定要退出登录吗?</p>\",\n            onOk: () => {\n              sessionStorage.setItem(\"login\", 0);\n              this.$Message.success(\"退出登录成功!\");\n              setTimeout(() => {\n                this.$router.push({ name: \"login\" });\n              }, 500);\n            },\n            onCancel: () => {\n              this.$Message.info(\"Clicked cancel\");\n            }\n          });\n      }\n    },\n    collapsedSider() {\n      this.$refs.side1.toggleCollapse();\n    }\n  }\n};\n</script>\n<style scoped>\n.layout {\n  border: 1px solid #d7dde4;\n  background: #f5f7f9;\n  position: relative;\n  border-radius: 4px;\n  overflow: hidden;\n  height: 100%;\n}\n.right {\n  font-size: 15px;\n}\n.title {\n  font-size: 25px;\n  color: #fff;\n  text-align: center;\n  margin: 5px 0;\n}\n.title span {\n  font-size: 20px;\n  vertical-align: text-top;\n  font-weight: bold;\n}\n.float {\n  float: right;\n}\n.user .userinfo {\n  margin: 0 20px;\n}\n.user .userinfo .username {\n  color: #333;\n}\n.layout-header-bar {\n  background: #fff;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n.layout-logo-left {\n  width: 90%;\n  height: 30px;\n  background: #5b6270;\n  border-radius: 3px;\n  margin: 15px auto;\n}\n.menu-icon {\n  transition: all 0.3s;\n}\n.rotate-icon {\n  transform: rotate(-90deg);\n}\n.menu-item span {\n  display: inline-block;\n  overflow: hidden;\n  width: 100px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  vertical-align: bottom;\n  transition: width 0.2s ease 0.2s;\n  /* font-size: 20px; */\n}\n.menu-item i {\n  transform: translateX(0px);\n  transition: font-size 0.2s ease, transform 0.2s ease;\n  vertical-align: middle;\n  font-size: 22px;\n}\n.collapsed-menu span {\n  width: 0px;\n  transition: width 0.2s ease;\n}\n.collapsed-menu i {\n  transform: translateX(5px);\n  transition: font-size 0.2s ease 0.2s, transform 0.2s ease 0.2s;\n  vertical-align: middle;\n  font-size: 18px;\n}\n.passView {\n  text-align: center;\n}\n.passView .item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n}\n</style>"]}]}