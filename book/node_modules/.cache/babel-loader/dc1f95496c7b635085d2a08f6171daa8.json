{"remainingRequest":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/thread-loader/dist/cjs.js!/Users/gaga/Desktop/文档/vue/Books/book/node_modules/babel-loader/lib/index.js!/Users/gaga/Desktop/文档/vue/Books/book/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gaga/Desktop/文档/vue/Books/book/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaga/Desktop/文档/vue/Books/book/src/components/userinfo/useradd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gaga/Desktop/文档/vue/Books/book/src/components/userinfo/useradd.vue","mtime":1585818807676},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/cache-loader/dist/cjs.js","mtime":1573815120526},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/thread-loader/dist/cjs.js","mtime":1573815121353},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/babel-loader/lib/index.js","mtime":1573815100829},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/cache-loader/dist/cjs.js","mtime":1573815120526},{"path":"/Users/gaga/Desktop/文档/vue/Books/book/node_modules/vue-loader/lib/index.js","mtime":1573815121359}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0Qm9vaywgYWRkVXNlckRhdGEgfSBmcm9tICJAL2FwaS9pbmRleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogey8vIHVzZXJEYXRhOiBPYmplY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyRGF0YTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHNjaG9vbE51bWJlcjogIiIsCiAgICAgICAgcGhvbmVOdW1iZXI6ICIiLAogICAgICAgIG1ham9yOiAiIiwKICAgICAgICBib29rTmFtZTogIiIsCiAgICAgICAgZGF0ZTogIiIKICAgICAgfSwKICAgICAgZGF0ZU9wdGlvbnM6IHsKICAgICAgICBkaXNhYmxlZERhdGU6IGZ1bmN0aW9uIGRpc2FibGVkRGF0ZShkYXRlKSB7CiAgICAgICAgICByZXR1cm4gZGF0ZSAmJiBkYXRlLnZhbHVlT2YoKSA+IERhdGUubm93KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhbGxNYWpvcjogWyLkv6Hmga/mioDmnK/lrabpmaIiLCAi5pWw5a2m56eR5a2m5a2m6ZmiIiwgIueJqeeQhuWtpumZoiIsICLpn7PkuZDlrabpmaIiLCAi5aSW5Zu96K+t5a2m6ZmiIiwgIuS9k+iCsuWtpumZoiIsICLmloflrabpmaIiLCAi5ZWG5a2m6ZmiIiwgIueUn+WRveenkeWtpuWtpumZoiIsICLljoblj7LmlofljJblrabpmaIiLCAi5paw6Ze75LiO5Lyg5pKt5a2m6ZmiIl0sCiAgICAgIGJvb2tOYW1lTGlzdDogW10sCiAgICAgIGN1cnJlbnREYXRlOiAiIiwKICAgICAgZGF0ZUZsYWc6IHRydWUKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBnZXRCb29rKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX3RoaXMuYm9va05hbWVMaXN0LnB1c2goaXRlbS5uYW1lKTsKICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKHRoaXMuYm9va05hbWVMaXN0KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0ZTogZnVuY3Rpb24gZ2V0RGF0ZShpKSB7CiAgICAgIHRoaXMudXNlckRhdGEuZGF0ZSA9IGk7CiAgICB9LAogICAgYWRkRGF0YTogZnVuY3Rpb24gYWRkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBmb3IgKHZhciBvIGluIHRoaXMudXNlckRhdGEpIHsKICAgICAgICBpZiAobyAhPSAicHJpY2UiICYmIDAgIT0gIm51bWJlciIpIHsKICAgICAgICAgIGlmICh0aGlzLnVzZXJEYXRhW29dLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoIuS/oeaBr+Whq+WGmeS4jeWujOaVtCEiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMudXNlckRhdGEuc2Nob29sTnVtYmVyLmxlbmd0aCAhPSA5KSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcigi5a2m5Y+35qC85byP5bqU5Li6OeS9jeaVsOWtlyEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnVzZXJEYXRhLnBob25lTnVtYmVyLmxlbmd0aCAhPSAxMSkgewogICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoIuiBlOezu+aWueW8j+W6lOS4ujEx5L2N5pWw5a2XISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2codGhpcy51c2VyRGF0YSk7CiAgICAgIGFkZFVzZXJEYXRhKHRoaXMudXNlckRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAxKSB7CiAgICAgICAgICBfdGhpczIuJE1lc3NhZ2Uuc3VjY2VzcyhyZXMubXNnKTsKCiAgICAgICAgICBfdGhpczIudXNlckRhdGEgPSB7CiAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICBzY2hvb2xOdW1iZXI6ICIiLAogICAgICAgICAgICBwaG9uZU51bWJlcjogIiIsCiAgICAgICAgICAgIG1ham9yOiAiIiwKICAgICAgICAgICAgYm9va05hbWU6ICIiLAogICAgICAgICAgICBkYXRlOiAiIgogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczIuJGVtaXQoInRvUGFyZW50Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kTWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlV2luOiBmdW5jdGlvbiBjbG9zZVdpbigpIHsKICAgICAgdGhpcy51c2VyRGF0YSA9IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBzY2hvb2xOdW1iZXI6ICIiLAogICAgICAgIHBob25lTnVtYmVyOiAiIiwKICAgICAgICBtYWpvcjogIiIsCiAgICAgICAgYm9va05hbWU6ICIiLAogICAgICAgIGRhdGU6ICIiCiAgICAgIH07CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlV2luIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["useradd.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"item\">\n      借阅人:\n      <Input v-model=\"userData.name\" placeholder=\"输入借阅人姓名...\" style=\"width: 300px\" />\n    </div>\n    <div class=\"item\">\n      学 号:\n      <Input\n        type=\"number\"\n        v-model=\"userData.schoolNumber\"\n        placeholder=\"输入学号...\"\n        style=\"width: 300px\"\n      />\n    </div>\n    <div class=\"item\">\n      联系方式:\n      <Input\n        type=\"number\"\n        v-model=\"userData.phoneNumber\"\n        placeholder=\"输入联系方式...\"\n        style=\"width: 300px\"\n      />\n    </div>\n    <div class=\"item\">\n      专 业:\n      <Select v-model=\"userData.major\" style=\"width:300px\">\n        <Option v-for=\"(item,index) in allMajor\" :value=\"item\" :key=\"index\">{{ item }}</Option>\n      </Select>\n    </div>\n    <div class=\"item\">\n      借阅书名:\n      <Select v-model=\"userData.bookName\" filterable style=\"width:300px\">\n        <Option v-for=\"(item,index) in bookNameList\" :value=\"item\" :key=\"index\">{{ item }}</Option>\n      </Select>\n    </div>\n\n    <div class=\"item\">\n      借阅时间:\n      <DatePicker\n        v-model=\"userData.date\"\n        type=\"date\"\n        placeholder=\"选择一个日期...\"\n        style=\"width: 300px\"\n        @on-change=\"getDate\"\n        :options=\"dateOptions\"\n      ></DatePicker>\n    </div>\n    <div class=\"item\">\n      <Button :style=\"{marginRight:'20px'}\" @click=\"closeWin\">取消</Button>\n      <Button type=\"primary\" @click=\"addData\">确定</Button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getBook, addUserData } from \"@/api/index\";\n\nexport default {\n  props: {\n    // userData: Object\n  },\n  data() {\n    return {\n      userData: {\n        name: \"\",\n        schoolNumber: \"\",\n        phoneNumber: \"\",\n        major: \"\",\n        bookName: \"\",\n        date: \"\"\n      },\n      dateOptions: {\n        disabledDate(date) {\n          return date && date.valueOf() > Date.now();\n        }\n      },\n      allMajor: [\n        \"信息技术学院\",\n        \"数学科学学院\",\n        \"物理学院\",\n        \"音乐学院\",\n        \"外国语学院\",\n        \"体育学院\",\n        \"文学院\",\n        \"商学院\",\n        \"生命科学学院\",\n        \"历史文化学院\",\n        \"新闻与传播学院\"\n      ],\n      bookNameList: [],\n      currentDate: \"\",\n      dateFlag: true\n    };\n  },\n  mounted() {\n    getBook().then(res => {\n      res.map(item => this.bookNameList.push(item.name));\n      // console.log(this.bookNameList);\n    });\n  },\n  methods: {\n    getDate(i) {\n      this.userData.date = i;\n    },\n    addData() {\n      for (var o in this.userData) {\n        if (o != \"price\" && 0 != \"number\") {\n          if (this.userData[o].length == 0) {\n            this.$Message.error(\"信息填写不完整!\");\n\n            return;\n          }\n        }\n      }\n      if (this.userData.schoolNumber.length != 9) {\n        this.$Message.error(\"学号格式应为9位数字!\");\n        return;\n      }\n      if (this.userData.phoneNumber.length != 11) {\n        this.$Message.error(\"联系方式应为11位数字!\");\n        return;\n      }\n      console.log(this.userData);\n      addUserData(this.userData).then(res => {\n        if (res.code == 1) {\n          this.$Message.success(res.msg);\n          this.userData = {\n            name: \"\",\n            schoolNumber: \"\",\n            phoneNumber: \"\",\n            major: \"\",\n            bookName: \"\",\n            date: \"\"\n          };\n          this.$emit(\"toParent\");\n        } else {\n          this.$Message.error(res.msg);\n        }\n      });\n    },\n    closeWin() {\n      this.userData = {\n        name: \"\",\n        schoolNumber: \"\",\n        phoneNumber: \"\",\n        major: \"\",\n        bookName: \"\",\n        date: \"\"\n      };\n      this.$emit(\"closeWin\");\n    }\n  }\n};\n</script>\n\n<style scoped>\n.main {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n.main .item {\n  margin-bottom: 20px;\n}\n</style>"],"sourceRoot":"src/components/userinfo"}]}